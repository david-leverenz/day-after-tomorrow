<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="https://api.tomtom.com/maps-sdk-for-web/cdn/6.x/6.18.0/maps/maps.css"
    />
    <script src="https://api.tomtom.com/maps-sdk-for-web/cdn/5.x/5.53.0/maps/maps-web.min.js"></script>
    <script src="https://api.tomtom.com/maps-sdk-for-web/cdn/5.x/5.53.0/services/services-web.min.js"></script>

	<title>TomTom Maps</title>
</head>
<body>

	<input type="text" id="query" value="">
	<button onclick="search()">SEARCH</button>

	<div style="width:90vw; height: 90vh;" id="mymap">This is my TomTom Map!</div>

	<script>
		var API_KEY = "7ZuASDGIDYaSxAwpTaBAcI5E3Eqe7pq4";
		var MADRID = [-3.703790, 40.416775];
		var LISBON = [-9.1319, 38.7222];
		var map = tt.map({
			key: API_KEY,
			center: MADRID,
			zoom: 10,
			container: 'mymap',
		});

		// var moveMap = function(lnglat) {
		// 	map.flyTo({
		// 		center: lnglat,
		// 		zoom: 14
		// 	})
		// }


		var handleResults = function(result) {
			console.log(result);
			if (result.results) {
				moveMap(result.results[0].position)
			}
		}


		var search = function() {
			 tt.services.fuzzySearch({
			 	key: API_KEY,
			 	query: document.getElementById("query").value,

			 }).go().then(handleResults)
		}

	</script>

</body>
</html>